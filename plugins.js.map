{"version":3,"sources":["webpack:///webpack/bootstrap f3b0eedf9fd882cac43c","webpack:///./plugins/plugins.js","webpack:///./plugins/paragraph/paragraph.js","webpack:///./plugins/header/header.js","webpack:///./plugins/code/code.js","webpack:///./plugins/link/link.js","webpack:///./plugins/list/list.js","webpack:///./plugins/quote/quote.js","webpack:///./plugins/image/image.js","webpack:///./plugins/paste/paste.js","webpack:///./plugins/twitter/twitter.js","webpack:///./plugins/instagram/instagram.js"],"names":["tools","paragraph","require","header","code","link","list","quote","image","paste","twitter","instagram","module","exports","paragraphTool","make","data","tag","document","createElement","classList","add","text","innerHTML","contentEditable","addEventListener","callbacks","pasted","render","save","blockContent","format","introText","type","iconClassname","appendCallback","settings","displayInToolbox","enableLineBreaks","allowedToPaste","headerTool","availableTypes","includes","dataset","headerData","textContent","setAttribute","argument","console","log","makeSettings","holder","types","H2","H3","H4","selectTypeButton","className","addSelectTypeClickListener","appendChild","el","selectTypeClicked","old_header","new_header","codex","content","currentNode","querySelector","switchBlock","toolbar","close","codeTool","baseClass","linkTool","defaultText","ENTER_KEY","currentBlock","currentInput","elementClasses","title","description","loader","error","makeNewBlock","wrapper","ui","mainBlock","input","blockPasteCallback","blockKeyDownCallback","json","block","linkElement","url","href","shortLink","src","event","clipboardData","window","pastedData","getData","target","parentNode","renderLink","stopPropagation","inputTag","contains","remove","keyCode","value","preventDefault","Promise","resolve","then","urlify","fetch","encodeURI","response","status","Error","composeLinkPreview","catch","core","urlRegex","links","match","reject","previewBlock","siteImage","siteTitle","siteDescription","siteLink","placeholder","imageSrc","imageClass","imageTag","linkUrl","linkText","linkTag","innerText","titleText","titleTag","descriptionText","descriptionTag","listTool","li","br","items","forEach","element","index","array","newLi","childNodes","length","orderedButton","button","unorderedButton","changeBlockStyle","blockType","newEditable","oldEditable","blockClass","buttonType","unordered","ordered","quoteTools","path","defaultStyle","makeBlockToAppend","size","style","makeSimpleQuote","makeQuoteWithCaption","makeQuoteWithPhoto","author","job","photo","parsedblock","parseBlockQuote","simple","withCaption","withPhoto","styles","buttons","selectedType","changeStyleClicked","changeStyleButton","ce_quote","newStyle","styleSelectors","quoteStyle","i","selectTypeQuoteStyle","quoteStyleFunction","parsedOldQuote","newStyledQuote","composeNewBlock","makeBlock","quoteText","blockquote","quoteAuthor","cite","authorsJob","icon","authorsPhoto","img","authorsPhotoWrapper","fileUploadClicked","authorsWrapper","authorHolder","getElementsByTagName","success","photoUploadingCallbacks","transport","selectAndUpload","caption","$classList","attribute","result","parsed","JSON","parse","filename","uploadImageWrapper","notifications","errorThrown","ceImage","ce_image","loading","blockStretched","uploadedImage","centered","stretched","imageCaption","imageWrapper","formHolder","uploadButton","isStretch","makeImage","makeForm","uploadButtonClicked","current","getImage","BLOCK_CLASSNAME","background","border","file","bigUrl","width","height","additionalData","cover","beforeSend","source","div","imageTypeClass","centeredImage","stretchedImage","isStretched","pasteTool","clipBoardData","analize","string","regexTemplates","RegExp","facebook","vk","test","exec","uploadImage","instagramMedia","twitterMedia","facebookMedia","vkMedia","ajaxUrl","location","protocol","hostname","success_callback","ajax","fullUrl","instagram_url","tweetId","arr","split","pop","media","conversation","user","profile_image_url","profile_image_url_https","screen_name","name","id","created_at","status_url","prepare","twitterTool","script","importScript","tweet","twitterBlock","twttr","widgets","createTweet","setTimeout","draw","node","instagramTool","isInternal","instagramBlock","instgrm","Embeds","process","anchor","instgrmVersion"],"mappings":"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","file":"plugins.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f3b0eedf9fd882cac43c","/**\n * @author Khaydarov Murod\n * murod.haydarov@gmail.com\n */\n\nvar tools = (function(tools) {\n\n    tools.paragraph = require('./paragraph/paragraph');\n    tools.header    = require('./header/header');\n    tools.code      = require('./code/code');\n    tools.link      = require('./link/link');\n    tools.list      = require('./list/list');\n    tools.quote     = require('./quote/quote');\n    tools.image     = require('./image/image');\n    tools.paste     = require('./paste/paste');\n    tools.twitter   = require('./twitter/twitter');\n    tools.instagram = require('./instagram/instagram');\n\n    return tools;\n\n})({});\n\nmodule.exports = tools;\n\n\n\n\n// WEBPACK FOOTER //\n// ./plugins/plugins.js","/**\n* Paragraph Plugin\\\n* Creates P tag and adds content to this tag\n*/\n// var tools = require('./../plugins');\n\nvar paragraphTool = {\n\n    /**\n    * Make initial header block\n    * @param {object} JSON with block data\n    * @return {Element} element to append\n    */\n    make : function (data) {\n\n        var tag = document.createElement('DIV');\n\n        tag.classList.add('ce-paragraph');\n\n        if (data && data.text) {\n            tag.innerHTML = data.text;\n        }\n\n        tag.contentEditable = true;\n\n        /**\n         * if plugin need to add placeholder\n         * tag.setAttribute('data-placeholder', 'placehoder');\n         */\n\n        /**\n         * @uses Paste tool callback.\n         * Function analyzes pasted data\n         * If pasted URL from instagram, twitter or Image\n         * it renders via Social widgets content or uploads image and uses Image tool to render\n         */\n        tag.addEventListener('paste', tools.paste.callbacks.pasted, false);\n\n        return tag;\n\n    },\n\n    /**\n    * Method to render HTML block from JSON\n    */\n    render : function (data) {\n\n       return paragraphTool.make(data);\n\n    },\n\n    /**\n    * Method to extract JSON data from HTML block\n    */\n    save : function (blockContent){\n\n        var data = {\n                text : null,\n                format: \"html\",\n                introText: '<<same>>'\n            };\n\n        data.text = blockContent.innerHTML;\n\n        return data;\n\n    }\n\n};\n\n/**\n* Now plugin is ready.\n* Add it to redactor tools\n*/\nmodule.exports = {\n\n    type             : 'paragraph',\n    iconClassname    : 'ce-icon-paragraph',\n    make             : paragraphTool.make,\n    appendCallback   : null,\n    settings         : null,\n    render           : paragraphTool.render,\n    save             : paragraphTool.save,\n    displayInToolbox : false,\n    enableLineBreaks : false,\n    allowedToPaste   : true\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./plugins/paragraph/paragraph.js","/**\n* Example of making plugin\n* H e a d e r\n*/\nvar headerTool = {\n\n    /**\n    * Make initial header block\n    * @param {object} JSON with block data\n    * @return {Element} element to append\n    */\n    make : function (data) {\n\n        var availableTypes = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'],\n            tag;\n\n        if (data && data.type && availableTypes.includes(data.type)) {\n\n            tag = document.createElement( data.type );\n\n            /**\n            * Save header type in data-attr.\n            * We need it in save method to extract type from HTML to JSON\n            */\n            tag.dataset.headerData = data.type;\n\n        } else {\n\n            tag = document.createElement( 'H2' );\n            tag.dataset.headerData = 'H2';\n\n        }\n\n        if (data && data.text) {\n            tag.textContent = data.text;\n        }\n\n        tag.classList.add('ce-header');\n        tag.setAttribute('data-placeholder', 'Heading');\n        tag.contentEditable = true;\n\n        return tag;\n\n    },\n\n    /**\n    * Method to render HTML block from JSON\n    */\n    render : function (data) {\n\n       return headerTool.make(data);\n\n    },\n\n    /**\n    * Method to extract JSON data from HTML block\n    */\n    save : function (blockContent) {\n\n        var data = {\n                \"heading-styles\": blockContent.dataset.headerData,\n                format:\"html\",\n                text : null,\n\n            };\n\n        data.text = blockContent.textContent;\n\n        return data;\n\n    },\n\n    /**\n    * Block appending callback\n    */\n    appendCallback : function (argument) {\n\n        console.log('header appended...');\n\n    },\n\n    /**\n    * Settings panel content\n    *  - - - - - - - - - - - - -\n    * | настройки   H1  H2  H3  |\n    *  - - - - - - - - - - - - -\n    * @return {Element} element contains all settings\n    */\n    makeSettings : function () {\n\n        var holder  = document.createElement('DIV'),\n            types   = {\n                        H2: 'Заголовок раздела',\n                        H3: 'Подзаголовок',\n                        H4: 'Заголовок 3-его уровня'\n                    },\n            selectTypeButton;\n\n        /** Add holder classname */\n        holder.className = 'ce_plugin_header--settings';\n\n        /** Now add type selectors */\n        for (var type in types){\n\n            selectTypeButton = document.createElement('SPAN');\n\n            selectTypeButton.textContent = types[type];\n            selectTypeButton.className   = 'ce_plugin_header--select_button';\n\n            this.addSelectTypeClickListener(selectTypeButton, type);\n\n            holder.appendChild(selectTypeButton);\n\n        }\n\n        return holder;\n\n    },\n\n    /**\n    * Binds click event to passed button\n    */\n    addSelectTypeClickListener : function (el, type) {\n\n        el.addEventListener('click', function () {\n\n            headerTool.selectTypeClicked(type);\n\n        }, false);\n    },\n\n    /**\n    * Replaces old header with new type\n    * @params {string} type - new header tagName: H1—H6\n    */\n    selectTypeClicked : function (type) {\n\n        var old_header, new_header;\n\n        /** Now current header stored as a currentNode */\n        old_header = codex.content.currentNode.querySelector('[contentEditable]');\n\n        /** Making new header */\n        new_header = document.createElement(type);\n\n        new_header.innerHTML = old_header.innerHTML;\n        new_header.contentEditable = true;\n        new_header.setAttribute('data-placeholder', 'Heading');\n        new_header.classList.add('ce-header');\n\n        new_header.dataset.headerData = type;\n\n        codex.content.switchBlock(old_header, new_header, 'header');\n\n        /** Close settings after replacing */\n        codex.toolbar.settings.close();\n    },\n\n};\n\n/**\n* Now plugin is ready.\n* Add it to redactor tools\n*/\nmodule.exports = {\n\n    type             : 'header',\n    iconClassname    : 'ce-icon-header',\n    make             : headerTool.make,\n    appendCallback   : headerTool.appendCallback,\n    settings         : headerTool.makeSettings(),\n    render           : headerTool.render,\n    save             : headerTool.save,\n    displayInToolbox : true,\n    enableLineBreaks : false\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./plugins/header/header.js","/**\n * Code Plugin\\\n * Creates code tag and adds content to this tag\n */\nvar codeTool = {\n\n    baseClass : \"ce-code\",\n\n    /**\n     * Make initial header block\n     * @param {object} JSON with block data\n     * @return {Element} element to append\n     */\n    make : function (data) {\n\n        var tag = document.createElement('code');\n\n        tag.classList.add(codeTool.baseClass);\n\n        if (data && data.text) {\n            tag.innerHTML = data.text;\n        }\n\n        tag.contentEditable = true;\n\n        return tag;\n\n    },\n\n    /**\n     * Method to render HTML block from JSON\n     */\n    render : function (data) {\n\n        return codeTool.make(data);\n\n    },\n\n    /**\n     * Method to extract JSON data from HTML block\n     */\n    save : function (blockContent){\n\n        var data = {\n                text : null,\n            };\n\n        data.text = blockContent.innerHTML;\n\n        return data;\n\n    },\n\n};\n\n/**\n * Now plugin is ready.\n * Add it to redactor tools\n */\nmodule.exports = {\n\n    type             : 'code',\n    iconClassname    : 'ce-icon-code',\n    make             : codeTool.make,\n    appendCallback   : null,\n    settings         : null,\n    render           : codeTool.render,\n    save             : codeTool.save,\n    displayInToolbox : true,\n    enableLineBreaks : true\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./plugins/code/code.js","/**\n * Created by nostr on 29.06.16.\n */\n\n/**\n * Link tool plugin\n */\nvar linkTool = {\n\n    defaultText    : 'Insert link here ...',\n    ENTER_KEY      : 13,\n\n    currentBlock   : null,\n    currentInput   : null,\n    elementClasses : {\n        link        : \"tool-link-link\",\n        image       : \"tool-link-image\",\n        title       : \"tool-link-title\",\n        description : \"tool-link-description\",\n        loader      : \"tool-link-loader\",\n        error       : \"tool-link-error\"\n    },\n\n    /**\n     * Make initial header block\n     * @param {object} JSON with block data\n     * @return {Element} element to append\n     */\n    makeNewBlock : function (data) {\n\n        var wrapper = linkTool.ui.mainBlock(),\n            tag     = linkTool.ui.input();\n\n        linkTool.currentInput = tag;\n\n        wrapper.appendChild(tag);\n\n        wrapper.classList.add('ce-link');\n        /**\n        * Bind callbacks\n        **/\n        tag.addEventListener('paste', linkTool.blockPasteCallback, false);\n        tag.addEventListener('keydown', linkTool.blockKeyDownCallback, false);\n\n        return wrapper;\n\n    },\n\n    /**\n     * Method to render HTML block from JSON\n     */\n    render : function (json) {\n\n        var block = linkTool.ui.mainBlock(),\n            tag   = linkTool.ui.make(json);\n\n        block.classList.add('ce-link');\n        block.appendChild(tag);\n\n        return block;\n\n    },\n\n    /**\n     * Method to extract JSON data from HTML block\n     */\n    save : function (blockContent){\n\n        var linkElement = linkTool.elementClasses.link;\n\n        var data = {\n                url    : blockContent.querySelector(\".\" + linkElement).href,\n                shortLink   : blockContent.querySelector(\".\" + linkElement).textContent,\n                image       : blockContent.querySelector(\".\" + linkTool.elementClasses.image).src,\n                title       : blockContent.querySelector(\".\" + linkTool.elementClasses.title).textContent,\n                description : blockContent.querySelector(\".\" + linkTool.elementClasses.description).textContent\n            };\n\n        return data;\n\n    },\n\n    blockPasteCallback : function (event) {\n\n        var clipboardData = event.clipboardData || window.clipboardData,\n            pastedData    = clipboardData.getData('Text'),\n            block         = event.target.parentNode;\n\n        linkTool.renderLink(pastedData, block);\n\n        event.stopPropagation();\n\n    },\n\n    blockKeyDownCallback : function (event) {\n\n        var inputTag = event.target,\n            block    = inputTag.parentNode,\n            url;\n\n        if ( block.classList.contains(linkTool.elementClasses.error) )\n        {\n            block.classList.remove(linkTool.elementClasses.error);\n        }\n\n        if (event.keyCode == linkTool.ENTER_KEY) {\n\n            url = inputTag.value;\n\n            linkTool.renderLink(url, block);\n\n            event.preventDefault();\n\n        }\n\n    },\n\n    /**\n    * @todo move request-url to accepted settings\n    */\n    renderLink : function (url, block) {\n\n        Promise.resolve()\n\n            .then(function () {\n                return linkTool.urlify(url);\n            })\n\n            .then(function (url) {\n\n                /* Show loader gif **/\n                block.classList.add(linkTool.elementClasses.loader);\n\n                return fetch('/club/linkInfo?url=' + encodeURI(url));\n            })\n\n            .then(function (response) {\n\n                if (response.status == \"200\"){\n\n                    return response.json();\n\n                } else {\n\n                    return Error(\"Invalid response status: %o\", response);\n\n                }\n\n            })\n\n            .then(function (json) {\n                console.log(json);\n                linkTool.composeLinkPreview(json, block);\n            })\n\n            .catch(function(error) {\n\n                /* Hide loader gif **/\n                block.classList.remove(linkTool.elementClasses.loader);\n\n                block.classList.add(linkTool.elementClasses.error);\n\n                codex.core.log('Error while doing things with link paste: %o', 'error', error);\n            });\n\n    },\n\n    urlify : function (text) {\n\n        var urlRegex = /(https?:\\/\\/\\S+)/g;\n\n        var links = text.match(urlRegex);\n\n        if (links) {\n            return links[0];\n        }\n\n        return Promise.reject(Error(\"Url is not matched\"));\n\n    },\n\n    composeLinkPreview : function (json, currentBlock) {\n\n        if (json == {}) {\n\n            return;\n\n        }\n        \n        var previewBlock = linkTool.ui.make(json);\n\n        linkTool.currentInput.remove();\n\n        currentBlock.appendChild(previewBlock);\n\n        currentBlock.classList.remove(linkTool.elementClasses.loader);\n\n    }\n\n};\n\nlinkTool.ui = {\n\n    make : function (json) {\n\n        var wrapper = this.wrapper(),\n            siteImage = this.image(json.image, linkTool.elementClasses.image),\n            siteTitle = this.title(json.title),\n            siteDescription = this.description(json.description),\n            siteLink = this.link(json.url, json.url);\n\n        wrapper.appendChild(siteImage);\n        wrapper.appendChild(siteTitle);\n        wrapper.appendChild(siteLink);\n        wrapper.appendChild(siteDescription);\n\n        siteTitle.contentEditable = true;\n        siteDescription.contentEditable = true;\n\n        return wrapper;\n\n    },\n\n    mainBlock : function () {\n\n        var wrapper = document.createElement('div');\n\n        wrapper.classList.add(\"ceditor-tool-link\");\n\n        return wrapper;\n\n    },\n\n    input : function () {\n\n        var inputTag = document.createElement('input');\n\n        inputTag.classList.add(\"ceditor-tool-link-input\");\n\n        inputTag.placeholder = linkTool.defaultText;\n\n        inputTag.contentEditable = false;\n\n        return inputTag;\n\n    },\n\n    wrapper : function () {\n\n        var wrapper = document.createElement('div');\n\n        wrapper.className += 'tool-link-panel clearfix';\n\n        return wrapper;\n\n    },\n\n    image : function (imageSrc, imageClass) {\n\n        var imageTag = document.createElement('img');\n\n        imageTag.classList.add(imageClass);\n\n        imageTag.setAttribute('src', imageSrc);\n\n        return imageTag;\n\n    },\n\n    link : function (linkUrl, linkText) {\n\n        var linkTag = document.createElement('a');\n\n        linkTag.classList.add(linkTool.elementClasses.link);\n\n        linkTag.href = linkUrl;\n\n        linkTag.target = \"_blank\";\n\n        linkTag.innerText = linkText;\n\n        return linkTag;\n\n    },\n\n    title : function (titleText) {\n\n        var titleTag = document.createElement('div');\n\n        titleTag.classList.add(\"tool-link-content\", linkTool.elementClasses.title);\n\n        titleTag.innerHTML = titleText;\n\n        return titleTag;\n    },\n\n    description : function (descriptionText) {\n\n        var descriptionTag = document.createElement('div');\n\n        descriptionTag.classList.add(\"tool-link-content\", linkTool.elementClasses.description);\n\n        descriptionTag.innerHTML = descriptionText;\n\n        return descriptionTag;\n    },\n\n};\n\nmodule.exports = {\n\n    type             : 'link',\n    iconClassname    : 'ce-icon-link',\n    make             : linkTool.makeNewBlock,\n    appendCallback   : linkTool.appendCallback,\n    render           : linkTool.render,\n    save             : linkTool.save,\n    displayInToolbox : true,\n    enableLineBreaks : true\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./plugins/link/link.js","/**\n * Code Plugin\\\n * Creates code tag and adds content to this tag\n */\nvar listTool = {\n\n    baseClass : \"tool-list\",\n    elementClasses : {\n        li  : \"tool-list-li\"\n    },\n\n    /**\n     * Make initial header block\n     * @param {object} JSON with block data\n     * @return {Element} element to append\n     */\n    make : function () {\n\n        var tag = listTool.ui.make(),\n            li  = listTool.ui.block(\"li\", \"tool-link-li\");\n\n        var br = document.createElement(\"br\");\n\n        li.appendChild(br);\n        tag.appendChild(li);\n\n        tag.classList.add('ce-list');\n\n        return tag;\n\n    },\n\n    /**\n     * Method to render HTML block from JSON\n     */\n    render : function (data) {\n\n        var type = data.type == 'ordered' ? 'OL' : 'UL',\n            tag  = listTool.ui.make(type);\n\n        tag.classList.add('ce-list');\n\n        data.items.forEach(function (element, index, array) {\n\n            var newLi = listTool.ui.block(\"li\", listTool.elementClasses.li);\n\n            newLi.innerHTML = element;\n\n            tag.dataset.type = data.type;\n            tag.appendChild(newLi);\n\n        });\n\n        return tag;\n\n    },\n\n    /**\n     * Method to extract JSON data from HTML block\n     */\n    save : function (blockContent){\n\n        var data = {\n                type  : null,\n                items : [],\n            };\n\n        for(var index = 0; index < blockContent.childNodes.length; index++)\n            data.items[index] = blockContent.childNodes[index].textContent;\n\n        data.type = blockContent.dataset.type;\n\n        return data;\n\n    },\n\n    makeSettings : function(data) {\n\n        var holder  = document.createElement('DIV'),\n            selectTypeButton;\n\n        /** Add holder classname */\n        holder.className = 'ce_plugin_list--settings';\n\n        var orderedButton = listTool.ui.button(\"ordered\"),\n            unorderedButton = listTool.ui.button(\"unordered\");\n\n        orderedButton.addEventListener('click', function (event) {\n            listTool.changeBlockStyle(event, 'ol');\n            codex.toolbar.settings.close();\n        });\n\n        unorderedButton.addEventListener('click', function (event) {\n            listTool.changeBlockStyle(event, 'ul');\n            codex.toolbar.settings.close();\n        });\n\n        holder.appendChild(orderedButton);\n        holder.appendChild(unorderedButton);\n\n        return holder;\n\n    },\n\n    changeBlockStyle : function (event, blockType) {\n\n        var currentBlock = codex.content.currentNode,\n            newEditable = listTool.ui.make(blockType),\n            oldEditable = currentBlock.querySelector(\"[contenteditable]\");\n\n            newEditable.dataset.type = blockType;\n            newEditable.innerHTML = oldEditable.innerHTML;\n            newEditable.classList.add('ce-list');\n\n            codex.content.switchBlock(currentBlock, newEditable, 'list');\n    },\n\n};\n\nlistTool.ui = {\n\n    make : function (blockType) {\n\n        var wrapper = this.block(blockType || 'UL', listTool.baseClass);\n\n        wrapper.dataset.type    = 'ul';\n        wrapper.contentEditable = true;\n\n        return wrapper;\n\n    },\n\n    block : function (blockType, blockClass) {\n\n        var block = document.createElement(blockType);\n\n        if ( blockClass ) block.classList.add(blockClass);\n\n        return block;\n\n    },\n\n    button : function (buttonType) {\n\n        var types   = {\n                unordered    : '<i class=\"ce-icon-list-bullet\"></i>Обычный список',\n                ordered      : '<i class=\"ce-icon-list-numbered\"></i>Нумерованный список'\n            },\n            button = document.createElement('SPAN');\n\n        button.innerHTML = types[buttonType];\n\n        button.className   = 'ce_plugin_list--select_button';\n\n        return button;\n    }\n};\n\n/**\n * Now plugin is ready.\n * Add it to redactor tools\n */\nmodule.exports = {\n\n    type             : 'list',\n    iconClassname    : 'ce-icon-list-bullet',\n    make             : listTool.make,\n    appendCallback   : null,\n    settings         : listTool.makeSettings(),\n    render           : listTool.render,\n    save             : listTool.save,\n    displayInToolbox : true,\n    enableLineBreaks : true\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./plugins/list/list.js","/**\n* Codex Team\n* @author Khaydarov Murod\n*/\n\nvar quoteTools = {\n\n    /** Default path to redactors images */\n    path : '/upload/redactor_images/',\n\n    /**\n    * Default quote style\n    */\n    defaultStyle : 'withPhoto',\n\n    /**\n    * Make Quote from JSON datasets\n    */\n    makeBlockToAppend : function(data) {\n\n        var tag;\n\n        if (data && data.size) {\n\n            data.style = 'withPhoto';\n            \n            switch (data.style) {\n                case 'simple':\n                    tag = quoteTools.makeSimpleQuote(data);\n                    break;\n                case 'withCaption':\n                    tag = quoteTools.makeQuoteWithCaption(data);\n                    break;\n                case 'withPhoto':\n                    tag = quoteTools.makeQuoteWithPhoto(data);\n                    break;\n            }\n        } else {\n\n            var settings = {\n                style  : 'withPhoto',\n                text   : '',\n                author : '',\n                job    : '',\n                photo  : ''\n            };\n\n            tag = quoteTools.makeQuoteWithPhoto(settings);\n\n        }\n\n        return tag;\n    },\n\n    render : function(data) {\n        return quoteTools.makeBlockToAppend(data);\n    },\n\n    save : function(blockContent) {\n\n        /**\n        * Extracts JSON quote data from HTML block\n        * @param {Text} text, {Text} author, {Object} photo\n        */\n        var parsedblock = quoteTools.parseBlockQuote(blockContent);\n            data = {\n                style  : parsedblock.style,\n                text   : parsedblock.text,\n                author : parsedblock.author,\n                job    : parsedblock.job,\n                photo  : parsedblock.photo,\n                \"format\":\"html\",\n                \"cite\": parsedblock.author,\n                \"size\": \"small\"\n            };\n\n        return data;\n    },\n\n    makeSettings : function(data) {\n\n        var holder  = document.createElement('DIV'),\n            types   = {\n                        simple      : 'Простая цитата',\n                        withCaption : 'Цитата с подписью',\n                        withPhoto   : 'Цитата с фото и ФИО'\n                    },\n            selectTypeButton;\n\n        /** Add holder classname */\n        holder.className = quoteTools.styles.settings.holder;\n\n        /** Now add type selectors */\n        for (var type in types){\n\n            selectTypeButton = document.createElement('SPAN');\n\n            selectTypeButton.textContent = types[type];\n            selectTypeButton.className   = quoteTools.styles.settings.buttons;\n\n            selectTypeButton.dataset.style = type;\n\n            if ( type == quoteTools.defaultStyle ){\n                selectTypeButton.classList.add(quoteTools.styles.settings.selectedType);\n            }\n\n            // var quoteStyle = quoteTools.selectTypeQuoteStyle(type);\n\n            selectTypeButton.addEventListener('click', quoteTools.changeStyleClicked, false);\n            // quoteTools.addSelectTypeClickListener(selectTypeButton, quoteStyle);\n\n            holder.appendChild(selectTypeButton);\n\n        }\n\n        return holder;\n\n    },\n\n    changeStyleClicked : function() {\n\n        var changeStyleButton = this,\n            quote = codex.content.currentNode.querySelector('.' + quoteTools.styles.ce_quote),\n            newStyle = changeStyleButton.dataset.style,\n            styleSelectors = this.parentNode.childNodes;\n\n        quote.dataset.quoteStyle = newStyle;\n\n        /**\n        * Mark selected style button\n        */\n        for (var i = styleSelectors.length - 1; i >= 0; i--) {\n            styleSelectors[i].classList.remove(quoteTools.styles.settings.selectedType);\n        }\n\n        this.classList.add(quoteTools.styles.settings.selectedType);\n\n    },\n\n    /**\n    * @deprecated\n    */\n    selectTypeQuoteStyle : function(type) {\n\n        /**\n        *  Choose Quote style to replace\n        */\n        switch (type) {\n            case 'simple':\n                quoteStyleFunction = quoteTools.makeSimpleQuote;\n                break;\n            case 'withCaption':\n                quoteStyleFunction = quoteTools.makeQuoteWithCaption;\n                break;\n            case 'withPhoto':\n                quoteStyleFunction = quoteTools.makeQuoteWithPhoto;\n                break;\n        }\n\n        return quoteStyleFunction;\n\n    },\n\n    /**\n    * @deprecated\n    */\n    addSelectTypeClickListener : function(el, quoteStyle) {\n\n        el.addEventListener('click', function () {\n\n            /**\n            * Parsing currentNode to JSON.\n            */\n            var parsedOldQuote  = quoteTools.parseBlockQuote(),\n                newStyledQuote  = quoteStyle(parsedOldQuote);\n\n            var wrapper = codex.content.composeNewBlock(newStyledQuote, 'quote');\n                wrapper.appendChild(newStyledQuote);\n\n            codex.content.switchBlock(codex.content.currentNode, newStyledQuote, 'quote');\n\n            /** Close settings after replacing */\n            codex.toolbar.settings.close();\n\n        }, false);\n\n    },\n\n    /**\n    * @deprecated\n    */\n    makeSimpleQuote : function(data) {\n\n        var wrapper = quoteTools.ui.makeBlock('BLOCKQUOTE', [quoteTools.styles.simple.text, quoteTools.styles.quoteText]);\n\n        wrapper.innerHTML = data.text || '';\n\n        wrapper.dataset.quoteStyle = 'simple';\n        wrapper.classList.add(quoteTools.styles.ce_quote);\n        wrapper.contentEditable = 'true';\n\n        return wrapper;\n    },\n\n    /**\n    * @deprecated\n    */\n    makeQuoteWithCaption : function(data) {\n\n        var wrapper = quoteTools.ui.blockquote(),\n            text    = quoteTools.ui.makeBlock('DIV', [quoteTools.styles.withCaption.blockquote, quoteTools.styles.quoteText]),\n            author  = quoteTools.ui.makeBlock('DIV', [quoteTools.styles.withCaption.author, quoteTools.styles.quoteAuthor]);\n\n            /* make text block ontentEditable */\n            text.contentEditable = 'true';\n\n            text.innerHTML = data.text;\n\n            /* make Author contentEditable */\n            author.contentEditable = 'true';\n\n            author.textContent = data.cite;\n\n        /* Appending created components */\n        wrapper.dataset.quoteStyle = 'withCaption';\n        wrapper.classList.add(quoteTools.styles.ce_quote);\n\n        wrapper.appendChild(text);\n        wrapper.appendChild(author);\n\n        return wrapper;\n\n    },\n\n    makeQuoteWithPhoto : function(data) {\n\n        var wrapper  = quoteTools.ui.blockquote(),\n            photo    = quoteTools.ui.makeBlock('DIV', [quoteTools.styles.withPhoto.photo]),\n            author   = quoteTools.ui.makeBlock('DIV', [quoteTools.styles.withPhoto.author, quoteTools.styles.quoteAuthor]),\n            job      = quoteTools.ui.makeBlock('DIV', [quoteTools.styles.withPhoto.job, quoteTools.styles.authorsJob]),\n            quote    = quoteTools.ui.makeBlock('DIV', [quoteTools.styles.withPhoto.quote, quoteTools.styles.quoteText]);\n\n            /* Default Image src */\n            if (!data.photo) {\n\n                var icon = quoteTools.ui.makeBlock('SPAN', ['ce-icon-picture']);\n                photo.appendChild(icon);\n\n            } else {\n\n                var authorsPhoto = quoteTools.ui.img(quoteTools.styles.authorsPhoto);\n                authorsPhoto.src = data.photo;\n\n                photo.classList.add(quoteTools.styles.authorsPhotoWrapper);\n                photo.appendChild(authorsPhoto);\n            }\n\n\n            photo.addEventListener('click', quoteTools.fileUploadClicked, false);\n\n            /* make author block contentEditable */\n            author.contentEditable = 'true';\n            author.textContent = data.cite;\n\n            /*  Author's position and job */\n            job.contentEditable = 'true';\n            job.textContent = data.job;\n\n        var authorsWrapper = quoteTools.ui.makeBlock('DIV', [quoteTools.styles.withPhoto.authorHolder]);\n            authorsWrapper.appendChild(author);\n            authorsWrapper.appendChild(job);\n\n            /* make quote text contentEditable */\n            quote.contentEditable = 'true';\n            quote.innerHTML = data.text;\n\n        wrapper.classList.add(quoteTools.styles.ce_quote);\n        wrapper.classList.add(quoteTools.styles.withPhoto.wrapper);\n        wrapper.dataset.quoteStyle = 'withPhoto';\n\n        wrapper.appendChild(quote);\n        wrapper.appendChild(photo);\n        wrapper.appendChild(authorsWrapper);\n\n        return wrapper;\n    },\n\n    parseBlockQuote : function(block) {\n\n        var currentNode = block || codex.content.currentNode,\n            photo       = currentNode.getElementsByTagName('img')[0],\n            author      = currentNode.querySelector('.' + quoteTools.styles.quoteAuthor),\n            job         = currentNode.querySelector('.' + quoteTools.styles.authorsJob),\n            quote ;\n\n        /** Simple quote text placed in Blockquote tag*/\n        if ( currentNode.dataset.quoteStyle == 'simple' )\n            quote = currentNode.innerHTML;\n        else\n            quote = currentNode.querySelector('.' + quoteTools.styles.quoteText).innerHTML;\n\n        if (job)\n            job = job.textContent;\n\n        if (author)\n            author = author.textContent;\n\n        if (photo)\n            photo = photo.src;\n\n        var data = {\n            style       : currentNode.dataset.quoteStyle,\n            text        : quote,\n            author      : author,\n            job         : job,\n            photo       : photo,\n        };\n\n        return data;\n    },\n\n    fileUploadClicked : function() {\n\n        var success = quoteTools.photoUploadingCallbacks.success,\n            error   = quoteTools.photoUploadingCallbacks.error;\n\n        codex.transport.selectAndUpload({\n            success,\n            error,\n        });\n\n    }\n\n};\n\nquoteTools.styles = {\n\n    ce_quote     : 'ce-quote',\n    quoteText    : 'ce_quote--text',\n    quoteAuthor  : 'ce_quote--author',\n    authorsJob   : 'ce_quote--job',\n    authorsPhoto : 'authorsPhoto',\n    authorsPhotoWrapper : 'authorsPhoto-wrapper',\n\n    simple : {\n        text : 'quoteStyle-simple--text',\n    },\n\n    withCaption : {\n        blockquote : 'quoteStyle-withCaption--blockquote',\n        author     : 'quoteStyle-withCaption--author',\n    },\n\n    withPhoto : {\n        photo   : 'quoteStyle-withPhoto--photo',\n        author  : 'quoteStyle-withPhoto--author',\n        job     : 'quoteStyle-withPhoto--job',\n        quote   : 'quoteStyle-withPhoto--quote',\n        wrapper : 'quoteStyle-withPhoto--wrapper',\n        authorHolder : 'quoteStyle-withPhoto--authorWrapper',\n    },\n\n    settings  : {\n        holder  : 'ce_plugin_quote--settings',\n        caption : 'ce_plugin_quote--caption',\n        buttons : 'ce_plugin_quote--select_button',\n        selectedType : 'ce-quote-settings--selected'\n    },\n};\n\nquoteTools.ui = {\n\n    wrapper : function($classList) {\n\n        var el = document.createElement('DIV');\n\n        el.classList.add($classList);\n\n        return el;\n\n    },\n\n    blockquote : function() {\n\n        var el = document.createElement('BLOCKQUOTE');\n\n        return el;\n\n    },\n\n    img : function(attribute) {\n        var imageTag = document.createElement('IMG');\n        imageTag.classList.add(attribute);\n\n        return imageTag;\n    },\n\n    makeBlock : function(tag, classList) {\n\n        var el = document.createElement(tag);\n\n\n        if ( classList ) {\n\n            for( var i = 0; i < classList.length; i++)\n                el.className += ' ' + classList[i];\n\n        }\n        return el;\n\n    }\n\n};\n\nquoteTools.photoUploadingCallbacks = {\n\n    /**\n    * Success callbacks for uploaded photo.\n    * Replace upload icon with uploaded photo\n    */\n    success : function(result) {\n\n        var parsed   = JSON.parse(result),\n            filename = parsed.filename,\n            uploadImageWrapper = codex.content.currentNode.querySelector('.' + quoteTools.styles.withPhoto.photo),\n            authorsPhoto = quoteTools.ui.img(quoteTools.styles.authorsPhoto);\n\n        authorsPhoto.src = quoteTools.path + 'b_' + filename;\n\n        /** Remove icon from image wrapper */\n        uploadImageWrapper.innerHTML = '';\n\n        /** Appending uploaded image */\n        uploadImageWrapper.classList.add(quoteTools.styles.authorsPhotoWrapper);\n        uploadImageWrapper.appendChild(authorsPhoto);\n    },\n\n    /** Error callback. Sends notification to user that something happend or plugin doesn't supports method */\n    error : function(result) {\n\n        console.log('Can\\'t upload an image');\n        codex.notifications.errorThrown();\n\n    }\n\n};\n\nmodule.exports = {\n\n    type             : 'quote',\n    iconClassname    : 'ce-icon-quote',\n    make             : quoteTools.makeBlockToAppend,\n    appendCallback   : null,\n    settings         : quoteTools.makeSettings(),\n    render           : quoteTools.render,\n    save             : quoteTools.save,\n    displayInToolbox : true,\n    enableLineBreaks : true,\n    allowedToPaste   : true\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./plugins/quote/quote.js","/**\n* Image plugin for codex-editor\n* @author CodeX Team <team@ifmo.su>\n*\n* @version 1.1.3\n*/\nvar ceImage = {\n\n    elementClasses : {\n\n        ce_image      : 'ce-image',\n        loading       : 'ce-plugin-image__loader',\n        blockStretched: 'ce-block--stretched',\n        uploadedImage : {\n                centered  : 'ce-plugin-image__uploaded--centered',\n                stretched : 'ce-plugin-image__uploaded--stretched',\n        },\n        imageCaption  : 'ce-plugin-image__caption',\n        imageWrapper  : 'ce-plugin-image__wrapper',\n        formHolder    : 'ce-plugin-image__holder',\n        uploadButton  : 'ce-plugin-image__button',\n\n    },\n\n    holder : null,\n\n    /** Default path to redactors images */\n    path : '/upload/redactor_images/',\n\n    make : function ( data ) {\n\n        var holder;\n\n        if (data) {\n\n            if ( data.isStretch !== 'true') {\n                holder = ceImage.ui.makeImage(data, ceImage.elementClasses.uploadedImage.centered, 'false');\n            } else {\n                holder = ceImage.ui.makeImage(data, ceImage.elementClasses.uploadedImage.stretched, 'true');\n            }\n\n            return holder;\n\n        } else {\n\n            holder = ceImage.ui.makeForm();\n\n            return holder;\n        }\n    },\n\n    /**\n     * this tool works when tool is clicked in toolbox\n     */\n    appendCallback : function(event) {\n\n        /** Upload image and call success callback*/\n        ceImage.uploadButtonClicked(event);\n\n    },\n\n    /**\n    * Settings panel content\n    * @return {Element} element contains all settings\n    */\n    makeSettings : function () {\n\n        var holder  = document.createElement('DIV'),\n            types   = {\n                        centered  : 'По центру',\n                        stretched : 'На всю ширину',\n                    },\n            selectTypeButton;\n\n        /** Add holder classname */\n        holder.className = 'ce_plugin_image--settings';\n\n        /** Now add type selectors */\n        for (var type in types){\n\n            selectTypeButton = document.createElement('SPAN');\n\n            selectTypeButton.textContent = types[type];\n            selectTypeButton.className   = 'ce_plugin_image--select_button';\n\n            this.addSelectTypeClickListener(selectTypeButton, type);\n\n            holder.appendChild(selectTypeButton);\n\n        }\n\n        return holder;\n\n    },\n\n    addSelectTypeClickListener : function(el, type) {\n\n        el.addEventListener('click', function() {\n\n            ceImage.selectTypeClicked(type);\n\n        }, false);\n\n    },\n\n    selectTypeClicked : function(type) {\n\n        var current      = codex.content.currentNode,\n            blockContent = current.childNodes[0],\n            image   = ceImage.ui.getImage(current),\n            wrapper = current.querySelector('.' + ceImage.elementClasses.imageWrapper);\n\n        /** Clear classList */\n        current.className = '';\n        image.className   = '';\n\n        /** Add important first-level class ce_block */\n        current.classList.add(codex.ui.className.BLOCK_CLASSNAME);\n\n        if (type === 'stretched') {\n\n            image.classList.add(ceImage.elementClasses.uploadedImage.stretched);\n\n            blockContent.classList.add(ceImage.elementClasses.blockStretched);\n\n            /** Setting dataset for saver */\n            wrapper.dataset.stretched = true;\n\n        } else if (type === 'centered') {\n\n            image.classList.add(ceImage.elementClasses.uploadedImage.centered);\n\n            blockContent.classList.remove(ceImage.elementClasses.blockStretched);\n\n            /** Setting dataset for saver */\n            wrapper.dataset.stretched = false;\n        }\n    },\n\n    render : function( data ) {\n\n        return this.make(data);\n    },\n\n    save : function ( block ) {\n\n        var content    = block,\n            image   = ceImage.ui.getImage(content),\n            caption = content.querySelector('.' + ceImage.elementClasses.imageCaption);\n\n        var data = {\n            background : false,\n            border : false,\n            isStretch : content.dataset.stretched,\n            file : {\n                url : image.src,\n                bigUrl : null,\n                width  : image.width,\n                height : image.height,\n                additionalData :null,\n            },\n            caption : caption.textContent,\n            cover : null,\n        };\n\n        return data;\n    },\n\n    uploadButtonClicked : function(event) {\n\n        var beforeSend = ceImage.photoUploadingCallbacks.beforeSend,\n            success    = ceImage.photoUploadingCallbacks.success,\n            error      = ceImage.photoUploadingCallbacks.error;\n\n        /** Define callbacks */\n        codex.transport.selectAndUpload({\n            beforeSend,\n            success,\n            error,\n        });\n    },\n\n};\n\nceImage.ui = {\n\n    holder : function(){\n\n        var element = document.createElement('DIV');\n\n        element.classList.add(ceImage.elementClasses.formHolder);\n        element.classList.add(ceImage.elementClasses.ce_image);\n\n        return element;\n    },\n\n    uploadButton : function(){\n\n        var button = document.createElement('SPAN');\n\n        button.classList.add(ceImage.elementClasses.uploadButton);\n\n        button.innerHTML = '<i class=\"ce-icon-picture\"> </i>';\n        button.innerHTML += 'Загрузить фотографию';\n\n        return button;\n\n    },\n\n    /**\n    * @param {string} source - file path\n    * @param {string} style - css class\n    * @return {object} image - document IMG tag\n    */\n    image : function(source, style) {\n\n        var image = document.createElement('IMG');\n\n        image.classList.add(style);\n\n        image.src = source;\n\n        return image;\n    },\n\n    wrapper : function() {\n\n        var div = document.createElement('div');\n\n        div.classList.add(ceImage.elementClasses.imageWrapper);\n\n        return div;\n    },\n\n    caption : function() {\n\n        var div  = document.createElement('div');\n\n        div.classList.add(ceImage.elementClasses.imageCaption);\n        div.contentEditable = true;\n\n        return div;\n    },\n    /**\n    * Draws form for image upload\n    */\n    makeForm : function() {\n\n        var holder       = ceImage.ui.holder(),\n            uploadButton = ceImage.ui.uploadButton();\n\n        holder.appendChild(uploadButton);\n\n        uploadButton.addEventListener('click', ceImage.uploadButtonClicked, false );\n\n        ceImage.holder = holder;\n\n        return holder;\n    },\n\n\n    /**\n    * wraps image and caption\n    * @param {object} data - image information\n    * @param {string} imageTypeClass - plugin's style\n    * @param {boolean} stretched - stretched or not\n    * @return wrapped block with image and caption\n    */\n    makeImage : function(data, imageTypeClass, stretched) {\n\n        var file = data.file.url,\n            text = data.caption,\n            type     = data.type,\n            image    = ceImage.ui.image(file, imageTypeClass),\n            caption  = ceImage.ui.caption(),\n            wrapper  = ceImage.ui.wrapper();\n\n        caption.textContent = text;\n\n        wrapper.dataset.stretched = stretched;\n        /** Appeding to the wrapper */\n        wrapper.appendChild(image);\n        wrapper.appendChild(caption);\n\n        return wrapper;\n    },\n\n    /**\n    * @param {HTML} data - Rendered block with image\n    */\n    getImage : function(data) {\n\n        var image = data.querySelector('.' + ceImage.elementClasses.uploadedImage.centered) ||\n                    data.querySelector('.' + ceImage.elementClasses.uploadedImage.stretched);\n\n        return image;\n    },\n\n    /**\n    * wraps image and caption\n    * @deprecated\n    * @param {object} data - image information\n    * @return wrapped block with image and caption\n    */\n    centeredImage : function(data) {\n\n        var file = data.file.url,\n            text = data.caption,\n            type     = data.type,\n            image    = ceImage.ui.image(file, ceImage.elementClasses.uploadedImage.centered),\n            caption  = ceImage.ui.caption(),\n            wrapper  = ceImage.ui.wrapper();\n\n        caption.textContent = text;\n\n        wrapper.dataset.stretched = 'false';\n\n        /** Appeding to the wrapper */\n        wrapper.appendChild(image);\n        wrapper.appendChild(caption);\n\n        return wrapper;\n    },\n\n    /**\n    * wraps image and caption\n    * @deprecated\n    * @param {object} data - image information\n    * @return stretched image\n    */\n    stretchedImage : function(data) {\n\n        var file = data.file.url,\n            text = data.caption,\n            type     = data.type,\n            image    = ceImage.ui.image(file, ceImage.elementClasses.uploadedImage.stretched),\n            caption  = ceImage.ui.caption(),\n            wrapper  = ceImage.ui.wrapper();\n\n        caption.textContent = text;\n\n        wrapper.dataset.stretched = 'true';\n        /** Appeding to the wrapper */\n        wrapper.appendChild(image);\n        wrapper.appendChild(caption);\n\n        return wrapper;\n\n    }\n\n};\n\nceImage.photoUploadingCallbacks = {\n\n    /** Before sending ajax request */\n    beforeSend : function() {\n        ceImage.holder.classList.add(ceImage.elementClasses.loading);\n    },\n\n    /** Photo was uploaded successfully */\n    success : function(result) {\n\n        var parsed = JSON.parse(result),\n            data,\n            currentBlock = codex.content.currentNode,\n            image;\n\n        /**\n        * Preparing {Object} data to draw an image\n        * @uses ceImage.make method\n        */\n        data = {\n            background : false,\n            border   : false,\n            isStretch : false,\n            file : {\n                url    : ceImage.path + 'o_' + parsed.filename,\n                bigUrl : null,\n                width  : null,\n                height : null,\n                additionalData : null,\n            },\n            caption : '',\n            cover : null,\n        };\n\n        image = ceImage.make(data);\n\n        /**\n         * If current block is empty, we can replace it to uploaded image\n         * Or insert new block\n         */\n        codex.content.switchBlock(ceImage.holder, image, 'image');\n    },\n\n    /** Error callback. Sends notification to user that something happend or plugin doesn't supports method */\n    error : function(result) {\n        console.log('Choosen file is not an image or image is corrupted');\n        codex.notifications.errorThrown();\n    }\n\n};\n\n\n/**\n* Add plugin it to redactor tools\n*/\nmodule.exports = {\n\n    type             : 'image',\n    iconClassname    : 'ce-icon-picture',\n    make             : ceImage.make,\n    appendCallback   : ceImage.appendCallback,\n    settings         : ceImage.makeSettings(),\n    render           : ceImage.render,\n    save             : ceImage.save,\n    isStretched      : true,\n    displayInToolbox : true,\n    enableLineBreaks : false\n\n};\n\n\n// WEBPACK FOOTER //\n// ./plugins/image/image.js","/**\n * Paste plugin.\n *\n * Listens on paste event and pastes content from:\n *  - Instagram\n *  - Twitter\n *  - VK\n *  - Facebook\n *  - Image\n *  - External Link\n *\n */\n\n/**\n * @protected\n *\n * Main tool settings.\n */\nvar pasteTool = {\n\n};\n\n/**\n * Make elements to insert or switch\n *\n * @uses Core codex.draw module\n */\npasteTool.ui = {\n\n    /**\n     * Upload image by URL\n     *\n     * @uses codex Image tool\n     * @param filename\n     * @returns {Element}\n     */\n    uploadedImage : function(filename) {\n\n        var data = {\n            background: false,\n            border: false,\n            isStretch: false,\n            file: {\n                url: \"upload/redactor_images/\" + filename,\n                bigUrl: \"upload/redactor_images/\" + filename,\n                width: null,\n                height: null,\n                additionalData: \"null\"\n            },\n            caption: '',\n            cover: null\n        };\n\n        /** Using Image plugin make method */\n        var image = codex.tools.image.make(data);\n\n        return image;\n\n    }\n\n};\n\n\n/**\n *\n * Callbacks\n */\npasteTool.callbacks = {\n\n    /**\n     * Saves data\n     * @param event\n     */\n    pasted : function(event) {\n\n        var clipBoardData = event.clipboardData || window.clipboardData,\n            content = clipBoardData.getData('Text');\n\n        pasteTool.callbacks.analize(content);\n    },\n\n    /**\n     * Analizes pated string and calls necessary method\n     */\n    analize : function(string) {\n\n        var regexTemplates = {\n                image : /(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*\\.(?:jpe?g|gif|png))(?:\\?([^#]*))?(?:#(.*))?/i,\n                instagram : new RegExp(\"http?.+instagram.com\\/p?.\"),\n                twitter : new RegExp(\"http?.+twitter.com?.+\\/\"),\n                facebook : /https?.+facebook.+\\/\\d+\\?/,\n                vk : /https?.+vk?.com\\/feed\\?w=wall\\d+_\\d+/,\n            },\n\n            image  = regexTemplates.image.test(string),\n            instagram = regexTemplates.instagram.exec(string),\n            twitter = regexTemplates.twitter.exec(string),\n            facebook = regexTemplates.facebook.test(string),\n            vk = regexTemplates.vk.test(string);\n\n        if (image) {\n\n            pasteTool.callbacks.uploadImage(string);\n\n        } else if (instagram) {\n\n            pasteTool.callbacks.instagramMedia(instagram);\n\n        } else if (twitter) {\n\n            pasteTool.callbacks.twitterMedia(twitter);\n\n        } else if (facebook) {\n\n            pasteTool.callbacks.facebookMedia(string);\n\n        } else if (vk) {\n\n            pasteTool.callbacks.vkMedia(string);\n\n        }\n\n    },\n\n    /**\n     * Direct upload\n     * @param url\n     */\n    uploadImage : function(path) {\n\n        var ajaxUrl = location.protocol + '//' + location.hostname + ':32769',\n            file,\n            image,\n            current = codex.content.currentNode,\n            beforeSend,\n            success_callback;\n\n        /** When image is uploaded to redactors folder */\n        success_callback = function(data) {\n\n            console.log(data);\n            return;\n            var file = JSON.parse(data);\n            image = pasteTool.ui.uploadedImage(file.filename);\n            codex.content.switchBlock(current, image, 'image');\n\n        };\n\n        /** Before sending XMLHTTP request */\n        beforeSend = function() {\n            var content = current.querySelector('.ce-block__content');\n            content.classList.add('ce-plugin-image__loader');\n        };\n\n        /** Preparing data for XMLHTTP */\n        var data = {\n            url: '/club/fetchImage',\n            type: \"POST\",\n            data : {\n                url: path\n            },\n            beforeSend : beforeSend,\n            success : success_callback\n        };\n\n        codex.core.ajax(data);\n    },\n\n    /**\n     * callback for instagram url's\n     * Using instagram Embed Widgete to render\n     * @uses Instagram tool\n     * @param url\n     */\n    instagramMedia : function(url) {\n\n        var fullUrl = url.input,\n            data;\n\n\n        data = {\n            instagram_url: fullUrl\n        };\n\n        codex.tools.instagram.make(data, true);\n\n    },\n\n    /**\n     * callback for tweets\n     * Using Twittter Widget to render\n     * @uses Twitter tool\n     * @param url\n     */\n    twitterMedia : function(url) {\n\n        var fullUrl = url.input,\n            tweetId,\n            arr,\n            data;\n\n        arr = fullUrl.split('/');\n        tweetId = arr.pop();\n\n        /** Example */\n        data = {\n            media:true,\n            conversation:false,\n            user:{\n                profile_image_url:\"http:\\/\\/pbs.twimg.com\\/profile_images\\/1817165982\\/nikita-likhachev-512_normal.jpg\",\n                profile_image_url_https:\"https:\\/\\/pbs.twimg.com\\/profile_images\\/1817165982\\/nikita-likhachev-512_normal.jpg\",\n                screen_name:\"Niketas\",\n                name:\"Никита Лихачёв\"\n            },\n            id: tweetId,\n            text:\"ВНИМАНИЕ ЧИТАТЬ ВСЕМ НЕ ДАЙ БОГ ПРОПУСТИТЕ НУ ИЛИ ХОТЯ БЫ КЛИКНИ И ПОДОЖДИ 15 СЕКУНД https:\\/\\/t.co\\/iWyOHf4xr2\",\n            created_at:\"Tue Jun 28 14:09:12 +0000 2016\",\n            status_url:\"https:\\/\\/twitter.com\\/Niketas\\/status\\/747793978511101953\",\n            caption:\"Caption\"\n        };\n\n        codex.tools.twitter.make(data);\n    }\n\n};\n\nmodule.exports = {\n\n    type             : 'paste',\n    iconClassname    : '',\n    prepare          : pasteTool.prepare,\n    make             : pasteTool.make,\n    appendCallback   : null,\n    settings         : null,\n    render           : null,\n    save             : pasteTool.save,\n    callbacks        : pasteTool.callbacks,\n    displayInToolbox : false,\n    enableLineBreaks : false,\n    allowedToPaste   : false\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./plugins/paste/paste.js","/**\n * Twitter plugin\n * @version 1.0.0\n */\n\nvar twitterTool = {\n\n    /**\n     * Prepare twitter scripts\n     */\n    prepare : function() {\n\n        var script = \"//platform.twitter.com/widgets.js\";\n\n        /**\n         * Load script\n         */\n        codex.core.importScript(script, 'twitterAPI');\n\n    },\n\n    make : function(data) {\n\n        if (!data.id)\n            return;\n\n        twitterTool.content.twitter(data.id);\n    },\n\n    save : function(blockContent) {\n\n        var data;\n\n        data = {\n            media:true,\n            conversation:false,\n            user:{\n                profile_image_url:\"http:\\/\\/pbs.twimg.com\\/profile_images\\/1817165982\\/nikita-likhachev-512_normal.jpg\",\n                profile_image_url_https:\"https:\\/\\/pbs.twimg.com\\/profile_images\\/1817165982\\/nikita-likhachev-512_normal.jpg\",\n                screen_name:\"Niketas\",\n                name:\"Никита Лихачёв\"\n            },\n            id: blockContent.dataset.tweetId,\n            text:\"ВНИМАНИЕ ЧИТАТЬ ВСЕМ НЕ ДАЙ БОГ ПРОПУСТИТЕ НУ ИЛИ ХОТЯ БЫ КЛИКНИ И ПОДОЖДИ 15 СЕКУНД https:\\/\\/t.co\\/iWyOHf4xr2\",\n            created_at:\"Tue Jun 28 14:09:12 +0000 2016\",\n            status_url:\"https:\\/\\/twitter.com\\/Niketas\\/status\\/747793978511101953\",\n            caption:\"Caption\"\n        };\n\n        return data;\n\n    },\n\n    render : function(data) {\n        return twitterTool.make(data);\n    }\n\n};\n\ntwitterTool.content = {\n\n    /**\n     * Twitter render method appends content after block\n     * @param tweetId\n     */\n    twitter : function(tweetId) {\n\n        var tweet = twitterTool.content.twitterBlock();\n\n        codex.content.switchBlock(codex.content.currentNode, tweet, 'twitter');\n\n        var blockContent = codex.content.currentNode.childNodes[0];\n        blockContent.classList.add('twitter__loader');\n\n        window.twttr.widgets.createTweet(tweetId, blockContent);\n\n        setTimeout(function() {\n            blockContent.classList.remove('twitter__loader');\n        }, 500);\n\n        /** Remove empty DIV */\n        blockContent.childNodes[0].remove();\n\n    },\n\n    twitterBlock : function() {\n        var block = codex.draw.node('DIV', '', {});\n        return block;\n    }\n};\n\nmodule.exports = {\n\n    type             : 'twitter',\n    iconClassname    : 'ce-icon-twitter',\n    prepare          : twitterTool.prepare,\n    make             : twitterTool.make,\n    appendCallback   : null,\n    settings         : null,\n    render           : twitterTool.render,\n    save             : twitterTool.save,\n    displayInToolbox : false,\n    enableLineBreaks : false,\n    allowedToPaste   : false\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./plugins/twitter/twitter.js","/**\n * Instagram plugin\n * @version 1.0.0\n */\nvar instagramTool = {\n\n    /**\n     * Prepare before usage\n     * Load important scripts to render embed\n     */\n    prepare : function() {\n\n        var script = \"//platform.instagram.com/en_US/embeds.js\";\n\n        /**\n         * Load widget\n         */\n        codex.core.importScript(script, 'instagramAPI');\n    },\n\n    /**\n     * Make instagram embed via Widgets method\n     */\n    make : function(data, isInternal) {\n\n        if (!data.instagram_url)\n            return;\n\n        var block = instagramTool.content.instagramBlock(data.instagram_url);\n\n        if (isInternal) {\n\n            setTimeout(function() {\n\n                /** Render block */\n                instagramTool.content.render(block);\n\n            }, 200);\n        }\n\n\n        return block;\n\n        if (!isInternal) {\n            instagramTool.content.render(block);\n        }\n    },\n\n    /**\n     * Saving JSON output.\n     * Upload data via ajax\n     */\n    save : function(blockContent) {\n\n        var data;\n\n        if (!blockContent)\n            return;\n\n        /** Example */\n        data = {\n            instagram_url: blockContent.src\n        };\n\n        return data;\n\n    },\n\n    /**\n     * Render data\n     */\n    render : function(data) {\n        return instagramTool.make(data);\n    }\n\n};\n\ninstagramTool.content = {\n\n    render : function(content) {\n\n        codex.content.switchBlock(codex.content.currentNode, content, 'instagram');\n\n        var blockContent = codex.content.currentNode.childNodes[0];\n        blockContent.classList.add('instagram__loader');\n\n        window.instgrm.Embeds.process();\n\n        setTimeout(function(){\n            blockContent.classList.remove('instagram__loader');\n        }, 500);\n    },\n\n    /**\n     * Drawing html content.\n     *\n     * @param url\n     * @returns {Element} blockquote - HTML template for Instagram Embed JS\n     */\n    instagramBlock : function(url) {\n\n        var blockquote = codex.draw.node('BLOCKQUOTE', 'instagram-media instagram', {}),\n            div        = codex.draw.node('DIV', '', {}),\n            paragraph  = codex.draw.node('P', 'ce-paste__instagram--p', {}),\n            anchor     = codex.draw.node('A', '', { href : url });\n\n        blockquote.dataset.instgrmVersion = 4;\n\n        paragraph.appendChild(anchor);\n        div.appendChild(paragraph);\n        blockquote.appendChild(div);\n\n        return blockquote;\n\n    }\n\n};\n\nmodule.exports = {\n\n    type             : 'instagram',\n    iconClassname    : 'ce-icon-instagram',\n    prepare          : instagramTool.prepare,\n    make             : instagramTool.make,\n    appendCallback   : null,\n    settings         : null,\n    render           : instagramTool.render,\n    save             : instagramTool.save,\n    displayInToolbox : false,\n    enableLineBreaks : false,\n    allowedToPaste   : false\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./plugins/instagram/instagram.js"],"sourceRoot":""}